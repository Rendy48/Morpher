
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- configs
local Variant = "WhiteNeko"

local HatMeshID = "rbxassetid://139767106824582"
local HatTextureID = "rbxassetid://82822549887465"
local HairMeshID = "rbxassetid://92133820887299"
local HairTextureID = "rbxassetid://78886200414806"
local FrontMeshID = "rbxassetid://81980267502978"
local FrontTextureID = "rbxassetid://92754462978127"

local Variants = {
    ["WhiteNeko"] = {
        Shirt = "rbxassetid://0",
        Pants = "rbxassetid://104035956040657",
        BodyColor = BrickColor.new("Institutional white")
    }
}

local function createMeshPart(name, meshId, textureId, scale)
    local part = Instance.new("Part")
    part.Name = name
    part.Size = Vector3.new(1, 1, 1)
    part.CanCollide = false
    part.Anchored = false
    part.Transparency = 0
    part.Parent = nil

    local mesh = Instance.new("SpecialMesh")
    mesh.MeshType = Enum.MeshType.FileMesh
    mesh.MeshId = meshId
    mesh.TextureId = textureId
    mesh.Scale = scale or Vector3.new(1, 1, 1)
    mesh.Parent = part

    return part
end

local function MorphPlayer()
    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local variantData = Variants[Variant]
    if not variantData then return end

    for _, item in ipairs(character:GetChildren()) do
        if item:IsA("Accessory") or item:IsA("Hat") or item:IsA("Shirt") or item:IsA("Pants") or item:IsA("ShirtGraphic") then
            item:Destroy()
        end
    end

    local head = character:FindFirstChild("Head")
    if head then
        for _, d in ipairs(head:GetChildren()) do
            if d:IsA("Decal") then d:Destroy() end
        end
    end

    for _, part in ipairs(character:GetChildren()) do
        if part:IsA("BasePart") then
            part.BrickColor = variantData.BodyColor
        end
    end

    local shirt = Instance.new("Shirt")
    shirt.Name = "DawgWhat"
    shirt.ShirtTemplate = variantData.Shirt
    shirt.Parent = character

    local pants = Instance.new("Pants")
    pants.Name = "Blanket"
    pants.PantsTemplate = variantData.Pants
    pants.Parent = character

    Local torso = character:FindFirstChild("Torso")
    if torso then
        local TorsoMesh = Instance.new("CharacterMesh")
        TorsoMesh.MeshId = "rbxassetid://48474356"
        TorsoMesh.Parent = torso

        local front = createMeshPart("Bodysuit", FrontMeshID, FrontTextureID, Vector3.new(1.0, 1.0, 1.0))
        front.Parent = character

        local weld = Instance.new("Weld")
        weld.Part0 = torso
        weld.Part1 = front
        weld.C0 = CFrame.new(-0.002, -0.095, 0.387)
        weld.Parent = front

        end
    end

    if head then
        local hat = createMeshPart("CatEars", HatMeshID, HatTextureID, Vector3.new(1.0, 1.0, 1.0))
        hat.Parent = character

        local weld = Instance.new("Weld")
        weld.Part0 = head
        weld.Part1 = hat
        weld.C0 = CFrame.new(-0.10, 0.9, -0.2)
        weld.Parent = hat

        local hair = createMeshPart("Hair", HairMeshID, HairTextureID, Vector3.new(1.0, 1.0, 1.0))
        hair.Parent = character

        local weld = Instance.new("Weld")
        weld.Part0 = torso
        weld.Part1 = hair
        weld.C0 = CFrame.new(-0.003, 0.687, -0.095)
        weld.Parent = hair
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    task.wait(1)
    MorphPlayer()
end)

if LocalPlayer.Character then
    task.wait(1)
    MorphPlayer()
end
